services:
  - type: web
    name: clawshield-api
    runtime: node
    plan: free
    buildCommand: npm install && npm run build --workspace @clawshield/shared-types && npm run build --workspace @clawshield/api
    startCommand: npm run start --workspace @clawshield/api
    envVars:
      - key: NODE_VERSION
        value: "22"
      - key: BACKEND_PORT
        value: "8787"
      - key: NEXT_PUBLIC_API_URL
        value: https://clawshield-api.onrender.com
      - key: PUBLIC_API_BASE_URL
        value: https://clawshield-api.onrender.com
      - key: DB_PATH
        value: ./apps/api/data/clawshield.db
      - key: OPBNB_TESTNET_RPC_URL
        sync: false
      - key: PRIVATE_KEY
        sync: false
      - key: CLAWSHIELD_CONTRACT_ADDRESS
        sync: false
      - key: LLM_BASE_URL
        sync: false
      - key: LLM_API_KEY
        sync: false
      - key: LLM_MODEL
        sync: false
      - key: CORS_ALLOWED_ORIGINS
        value: https://claw-shield-web.vercel.app
